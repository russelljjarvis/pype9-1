<?xml version="1.0" encoding="UTF-8"?>
<NineML xmlns="http://nineml.net/9ML/1.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://nineml.net/9ML/1.0/schema/NineML_v0.2.xsd">
  <Dynamics name="IzhikevichClass">
    <Parameter name="a" dimension="per_time"/>
    <Parameter name="b" dimension="per_time"/>
    <Parameter name="c" dimension="voltage"/>
    <Parameter name="d" dimension="voltage_per_time"/>
    <Parameter name="theta" dimension="voltage"/>
    <AnalogReducePort name="iSyn" dimension="current" operator="+"/>
    <AnalogReceivePort name="iExt" dimension="current"/>
    <AnalogSendPort name="U_m" dimension="voltage_per_time"/>
    <AnalogSendPort name="V_m" dimension="voltage"/>
    <EventSendPort name="spikeOutput" mode="send"/>
    <StateVariable name="V_m" dimension="voltage"/>
    <StateVariable name="U_m" dimension="voltage_per_time"/>
    <Regime name="subthresholdRegime">
      <TimeDerivative variable="U_m">
        <MathInline>a*(b*V_m - U_m)</MathInline>
      </TimeDerivative>
      <TimeDerivative variable="V_m">
        <MathInline>const1*V_m*V_m + const2*V_m + const3 - U_m + (iSyn + iExt)/C</MathInline>
      </TimeDerivative>
      <OnCondition>
        <Trigger>
          <MathInline>V_m &gt; theta</MathInline>
        </Trigger>
        <StateAssignment variable="V_m">
          <MathInline>c</MathInline>
        </StateAssignment>
        <StateAssignment variable="U_m">
          <MathInline>U_m+d</MathInline>
        </StateAssignment>
        <OutputEvent port="spikeOutput"/>
      </OnCondition>
    </Regime>
    <Constant name="const1" value="0.04" units="per_mV_ms"/>
    <Constant name="const2" value="5" units="per_ms"/>
    <Constant name="const3" value="140" units="mV_per_ms"/>
    <Constant name="C" value="1.0" units="nF"/>
  </Dynamics>
  <DynamicsProperties name="Izhikevich">
    <Definition name="IzhikevichClass"/>
    <Property name="a" units="per_ms">
      <SingleValue>0.02</SingleValue>
    </Property>
    <Property name="b" units="per_ms">
      <SingleValue>0.2</SingleValue>
    </Property>
    <Property name="c" units="mV">
      <SingleValue>-65.0</SingleValue>
    </Property>
    <Property name="d" units="mV_per_ms">
      <SingleValue>6</SingleValue>
    </Property>
    <Property name="theta" units="mV">
      <SingleValue>30.0</SingleValue>
    </Property>
  </DynamicsProperties>
  <Dimension name="voltage" m="1" l="2" t="-3" i="-1"/>
  <Dimension name="voltage_per_time" m="1" l="2" t="-4" i="-1"/>
  <Dimension name="per_voltage_time" m="-1" l="-2" t="2" i="1"/>
  <Dimension name="per_time" t="-1"/>
  <Dimension name="current" i="1"/>
  <Dimension name="capacitance" m="-1" l="-2" t="4" i="2"/>
  <Unit symbol="mV" dimension="voltage" power="-3"/>
  <Unit symbol="mV_per_ms" dimension="voltage_per_time" power="3"/>
  <Unit symbol="per_mV_ms" dimension="per_voltage_time" power="6"/>
  <Unit symbol="per_ms" dimension="per_time" power="3"/>
  <Unit symbol="nF" dimension="capacitance" power="-9"/>
</NineML>